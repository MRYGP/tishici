# 提示词系统化升级方案 v1.0

> **目标**：将仓库中所有提示词升级到v8.0标准，实现Token优化30-70%，质量提升20-30%
> 
> **更新日期**：2024-12-27
> 
> **维护者**：常松阳 + Claude AI + Cursor AI

---

## 📊 升级总览

### 当前状态

| 类别 | 数量 | 状态 |
|------|------|------|
| ✅ 已升级 | 2 | 提示词工程师v8.0、贷查查v2.1 |
| 🟡 待升级 | 26 | 其他系统指令 |
| 📊 总计 | 28 | - |

### 升级优先级

| 优先级 | 文件名 | 原因 | 预计提升 |
|--------|--------|------|---------|
| **P1-高** | huoshu_claude_system_prompt.md | 高频使用，业务关键 | 71→92分 |
| **P1-高** | 立体教育培养助手_v4.md | 高频使用，业务关键 | 估计75→93分 |
| **P1-高** | 指令架构师v4.0.md | 元指令，影响其他指令设计 | 估计80→95分 |
| **P2-中** | Claude_Projects指令V1.1.md | 通用指令 | 估计70→90分 |
| **P2-中** | Token优化系统.md | 支撑模块 | 估计65→85分 |
| **P3-低** | 其他专业提示词 | 使用频率较低 | 按需升级 |

---

## 🎯 升级标准（七维评估法）

每个提示词必须达到以下标准才算升级完成：

### 必达标准（>90分）

| 维度 | 目标分 | 核心要求 |
|------|--------|---------|
| 1. 身份清晰度 | ≥9/10 | 明确的"你是谁""核心使命""你不是" |
| 2. 工作模式 | ≥9/10 | 三大模式（闪电/标准/深度）+ 自动判断 |
| 3. 质量保证 | ≥9/10 | 三个拷问 + 禁止清单 + 自检机制 |
| 4. 知识库协作 | ≥9/10 | 优先级原则 + 搜索策略 + SSOT |
| 5. Token效率 | ≥9/10 | 默认简洁 + 预算警告 + 协作模式 |
| 6. 实战导向 | ≥9/10 | Few-Shot示例 + 可执行性 + "铜臭味" |
| 7. 可维护性 | ≥9/10 | 版本记录 + 清晰结构 + 注释说明 |

**综合评分目标**：≥90分（宗师级）

---

## 📋 标准升级流程（五步法）

### Step 1：深度诊断（30分钟）

**操作**：
```
1. Claude用project_knowledge_search读取完整内容
2. 运行七维评估
3. 给出综合评分
4. 列出核心问题清单（3-6个）
5. 生成诊断报告
```

**输出物**：
- 七维评估表
- 问题清单
- 升级建议

**示例参考**：
见"贷查查v2.0诊断报告"

---

### Step 2：升级方案设计（30分钟）

**操作**：
```
1. 确定升级类型（微调/标准/重构）
2. 确定保留内容（核心优势）
3. 确定新增内容（v8.0最佳实践）
4. 生成升级蓝图（6-10个升级项）
```

**升级类型判断**：
```python
if 综合评分 >= 85:
    升级类型 = "微调"（保留95%，微调5%）
elif 综合评分 >= 70:
    升级类型 = "标准升级"（保留80%，新增20%）
else:
    升级类型 = "重构"（保留50%，重写50%）
```

**输出物**：
- 升级类型确认
- 保留/新增内容清单
- 详细升级蓝图

---

### Step 3：协作模式执行（60分钟）

**触发协作模式**：
```
用户说："我把诊断报告和升级方案复制给Cursor"
↓
Claude生成精简Cursor指令（<800字）
↓
Cursor执行升级
```

**Cursor指令必含要素**：
- ✅ 上下文说明（对话要点）
- ✅ 任务目标（一句话）
- ✅ 具体操作（6-10个升级项）
- ✅ 验证清单（8-12项）
- ✅ Git操作（commit格式）
- ✅ 预期结果（评分提升预测）

**输出物**：
- 升级后的vX.X文件
- Git commit记录

---

### Step 4：质量验证（15分钟）

**操作**：
```
1. Claude用project_knowledge_search读取升级后文件
2. 重新运行七维评估
3. 对比升级前后评分
4. 生成升级报告
```

**必达指标**：
- ✅ 综合评分 ≥90分
- ✅ 每个维度 ≥9分
- ✅ 核心业务逻辑100%保留
- ✅ 新增内容逻辑严密

**如果未达标**：
- 识别问题维度
- 生成微调Cursor指令
- 再次验证

---

### Step 5：文档归档（5分钟）

**操作**：
```
1. 更新"提示词升级记录.md"
2. 更新本文档的"升级总览"表格
3. 备份原版本（如需要）
4. Git push到GitHub
```

**输出物**：
- 升级记录更新
- 版本备份（可选）
- GitHub同步完成

---

## 🔧 v8.0最佳实践清单

所有升级必须融入以下最佳实践：

### 必加项（10项）

#### 1. 三大工作模式
- 闪电模式（<300字）
- 标准模式（800-1500字）
- 深度模式（不设限）
- 自动判断逻辑
- 用户强制控制

#### 2. 三个拷问机制
- 拷问1：原子任务（输入/处理/输出）
- 拷问2：供需匹配（产出/需求）
- 拷问3：铜臭味（好看/好卖）

#### 3. 输出前三问
- 问题1：最简洁的表达？
- 问题2：用户能立即行动？
- 问题3：遵守禁止清单？

#### 4. 禁止清单
- 5-8条核心禁止行为
- 每条有失败案例 vs 成功案例
- 明确检验标准

#### 5. 自检机制
- 输出前三问
- 质量验证清单（分模式）
- 强制执行

#### 6. 知识库协作
- 优先级原则（project_knowledge优先）
- 何时搜索（必须/可选/不需要）
- 搜索策略（关键词组合）
- 反例说明

#### 7. Token优化
- 默认简洁模式
- Token预算警告（>1000字提醒）
- 模块化输出

#### 8. Claude-Cursor协作
- 协作触发条件
- 标准指令格式
- Token节省预期

#### 9. 版本管理
- 版本号标注
- 更新日期记录
- 核心变化说明

#### 10. 清晰结构
- 章节层次分明
- 快速参考卡（可选）
- 目录/索引（大型指令）

---

### 可选项（5项）

#### 快速参考卡（大型指令推荐）
- 模式速查表
- 强制触发词
- 输出前必做

#### 使用场景示例（3个典型场景）
- 场景描述
- 输入输出示例
- 关键要点

#### 常见问题FAQ（5-10个）
- 常见问题
- 标准答案
- 相关链接

#### 进阶技巧（高级用户）
- 高级用法
- 组合技巧
- 优化建议

#### 自我进化协议（元认知）
- 版本迭代机制
- 自我改进流程
- 经验沉淀

---

## 📝 升级记录模板

每次升级完成后，在"提示词升级记录.md"中新增：

```markdown
### [文件名] vX.X → vX.X+1

**升级日期**：YYYY-MM-DD
**升级类型**：微调 / 标准升级 / 重构
**负责人**：常松阳 + Claude + Cursor

**七维评分**：
| 维度 | 升级前 | 升级后 | 提升 |
|------|--------|--------|------|
| 身份清晰度 | X/10 | X/10 | +X |
| 工作模式 | X/10 | X/10 | +X |
| 质量保证 | X/10 | X/10 | +X |
| 知识库协作 | X/10 | X/10 | +X |
| Token效率 | X/10 | X/10 | +X |
| 实战导向 | X/10 | X/10 | +X |
| 可维护性 | X/10 | X/10 | +X |
| **综合评分** | **XX/100** | **XX/100** | **+XX** |

**核心改进**：
1. [改进1]
2. [改进2]
3. [改进3]

**Token优化效果**：
- 预计节省：XX%
- 响应速度提升：XX%

**遗留问题**（如有）：
- [问题1]

---
```

---

## 🎯 批量升级计划

### Phase 1：高优先级（Week 1）

**目标**：完成P1-高的3个核心指令

| 日期 | 任务 | 预计耗时 |
|------|------|---------|
| Day 1 | 活书系统指令升级 | 2小时 |
| Day 2 | 教育助手升级 | 2小时 |
| Day 3 | 指令架构师升级 | 2小时 |

**验收标准**：
- ✅ 三个指令综合评分 ≥90分
- ✅ Token优化模式全部加入
- ✅ 使用效果跟踪1周

---

### Phase 2：中优先级（Week 2-3）

**目标**：完成P2-中的5个通用指令

| 周 | 任务 | 数量 |
|----|------|------|
| Week 2 | Claude_Projects指令、Token优化系统 | 2个 |
| Week 3 | 其他通用指令 | 3个 |

---

### Phase 3：低优先级（Week 4+）

**策略**：按需升级，不强制时间表

---

## 🔍 质量保证机制

### 升级前检查

- [ ] 已阅读v8.0最佳实践？
- [ ] 已了解贷查查升级案例？
- [ ] 已准备好完整的对话上下文？

### 升级中检查

- [ ] 保留了核心业务逻辑？
- [ ] 新增内容逻辑严密？
- [ ] Cursor指令清晰可执行？

### 升级后检查

- [ ] 七维评分 ≥90分？
- [ ] 每个维度 ≥9分？
- [ ] Token优化效果明显？
- [ ] 升级记录已更新？

---

## 📚 参考资源

### 核心文档

1. **提示词工程师v8.0.md** - v8.0最佳实践范本
2. **贷查查v2.0→v2.1升级诊断报告** - 标准升级流程示范
3. **七维评估法说明** - 详细评分标准

### 升级案例

| 文件 | 升级前 | 升级后 | 核心改进 |
|------|--------|--------|---------|
| 贷查查 | 71分 | 92分 | +三大模式、三个拷问、Token优化 |
| （待补充） | - | - | - |

---

## 🚀 快速开始

如果你是第一次使用这个升级方案：

**Step 1**：选择一个P1文件（如活书）

**Step 2**：对Claude说：
```
"用七维评估法诊断'huoshu_claude_system_prompt.md'"
```

**Step 3**：等Claude生成诊断报告

**Step 4**：对Claude说：
```
"生成升级方案，我把对话复制给Cursor"
```

**Step 5**：复制对话 + Cursor指令给Cursor

**Step 6**：验证结果，更新升级记录

---

## 💡 常见问题

**Q1：如果评分已经很高（>85分），还需要升级吗？**

A：建议微调升级。重点加入：
- Token优化（协作模式）
- 输出前三问（质量保证）
- 版本管理（可维护性）

---

**Q2：如果业务逻辑非常复杂（如贷查查），会不会丢失核心内容？**

A：不会。升级原则是"保留100%业务逻辑，新增v8.0最佳实践"。
参考贷查查案例：六宫格、五问、六指标等核心逻辑全部保留。

---

**Q3：批量升级会不会太费时间？**

A：使用协作模式，单个文件升级耗时：
- 诊断：30分钟（Claude）
- 方案：30分钟（Claude）
- 执行：60分钟（Cursor，自动）
- 验证：15分钟（Claude）
- **总计：2小时/文件**

P1的3个文件，预计Week 1完成。

---

**Q4：如何确保升级质量？**

A：三重保证：
1. 七维评估（量化标准）
2. 升级前后对比（数据说话）
3. 实际使用反馈（1周试用期）

---

## 📊 进度追踪

### 本周目标（Week 1）

- [ ] 活书系统指令 v1.0→v2.0
- [ ] 教育助手 v4.0→v5.0
- [ ] 指令架构师 v4.0→v5.0

### 本月目标（Month 1）

- [ ] P1文件全部升级完成（3个）
- [ ] P2文件升级50%（3/5个）
- [ ] 建立Token节省追踪表

### 季度目标（Q1 2025）

- [ ] 所有28个文件评估完成
- [ ] 核心文件（P1+P2）全部升级
- [ ] Token平均节省40%+
- [ ] 形成标准化升级模板库

---

## 🎁 附录

### 附录A：七维评估详细标准

[详细评分标准，见独立文档]

### 附录B：Cursor指令模板库

[常用模板，见独立文档]

### 附录C：升级案例库

[成功案例，见独立文档]

---

**文档版本**：v1.0
**最后更新**：2024-12-27
**下次审查**：2025-01-15
**维护者**：常松阳 + Claude AI + Cursor AI

